<script>
  function get(url, callback) {
    var xhr = new XMLHttpRequest();

    xhr.addEventListener('load', transferComplete);

    function transferComplete(e) {
      if (xhr.getResponseHeader('content-type').indexOf('application/json') > -1) {
        callback(JSON.parse(xhr.response));
      } else {
        callback(xhr.response);
      }
    }

    xhr.open('GET', url);
    xhr.send();
  }

  get('hello.json', function (response) {
    console.log('The response is: ', response);
  });

  get('hello.txt', function (response) {
    console.log('The response is: ', response);
  })

</script>
