<!DOCTYPE html>
<!--
  * Copy the code from the previous exercise.
  * Same code, but only one event listener on the <main>, which will handle the toggling.
-->
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>
  <main></main>
  <script>
    const queenSongs = [
      {
        title: "Don't stop me now",
        text: [
          "Don't stop me now I'm having such a good time",
          "I'm having a ball",
          "Don't stop me now",
          "If you wanna have a good time just give me a call",
          "Don't stop me now ('Cause I'm having a good time)",
          "Don't stop me now (Yes I'm havin' a good time)",
          "I don't want to stop at all"
        ]
      },
      {
        title: "Bohemian Raphsody",
        text: [
          "Is this the real life?",
          "Is this just fantasy?",
          "Caught in a landslide,",
          "No escape from reality.",
          "Open your eyes,",
          "Look up to the skies and see,",
          "I'm just a poor boy, I need no sympathy,",
          "Because I'm easy come, easy go,",
          "Little high, little low,",
          "Any way the wind blows doesn't really matter to me, to me."
        ]
      }
    ];

    const mainElem = document.querySelector('main');

    mainElem.addEventListener('click', (event) => {
        if (event.target.nodeName === 'H1') {
            event.target.nextSibling.style.display = event.target.nextSibling.style.display === 'none' ? 'block' : 'none';
        }
    });

    function addSongLyrics(info) {
      info.forEach((song) => {
        const h1 = document.createElement('h1');
        h1.appendChild(document.createTextNode(song.title));
        const div = document.createElement('div');
        div.style.display = 'none';
        song.text.forEach((paragraph) => {
          addParagraph(div, paragraph);
        });
        mainElem.appendChild(h1);
        mainElem.appendChild(div);
      });
    }

    function addParagraph(containerElement, paragraphText) {
      const p = document.createElement('p');
      p.innerHTML = paragraphText.replace(/^(\S+)/, '<strong>$1</strong>');
      containerElement.appendChild(p);
    }

    addSongLyrics(queenSongs);

  </script>
</body>
</html>
